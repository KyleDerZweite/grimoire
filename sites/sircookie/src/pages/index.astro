---
// index.astro — sircookiiie Link-in-bio page

import BaseLayout from '../layouts/BaseLayout.astro';
import SocialLinkButton from '../components/SocialLinkButton.astro';

// ── Profile Configuration ──
const profile = {
  name: 'sircookiiie',
  bio: 'Hey ich bin ein League spieler also auch Mentality ill.',
  avatar: '/images/avatar.png',
  banner: '/images/banner.jpg',
};

// ── Social Links ──
const socialLinks = [
  { href: 'https://www.snapchat.com/add/leon.schf18?share_id=oDceTAPFPqk&locale=de-DE', label: 'Snapchat', icon: 'snapchat' as const },
  { href: 'https://www.instagram.com/leon.schf._/', label: 'Instagram', icon: 'instagram' as const },
  { href: 'https://www.twitch.tv/sir_cookiie/', label: 'Twitch', icon: 'twitch' as const },
  { href: 'https://discord.gg/9jJ2UHvNtg', label: 'Discord', icon: 'discord' as const },
];

// ── Spotify Playlist Embeds ──
const spotifyPlaylists = [
  'https://open.spotify.com/embed/playlist/0qSrEPsqXo0fceo1CLoVek?utm_source=generator',
  'https://open.spotify.com/embed/playlist/1nnC73oem9tjb94sgkf3WB?utm_source=generator',
];
---

<BaseLayout 
  title={`${profile.name} — Links`} 
  description={profile.bio}
  bannerImage={profile.banner}
>
  <main class="page">
    <div class="card">

      <!-- ── Banner ── -->
      <div class="banner animate-scale-in">
        <img src={profile.banner} alt="Banner" class="banner__img" />
        <div class="banner__fade"></div>
      </div>

      <div class="content-wrapper">
        <!-- ── Profile ── -->
        <section class="profile">
          <div class="profile__avatar animate-scale-in delay-2">
            <img src={profile.avatar} alt={profile.name} />
          </div>
          <h1 class="profile__name animate-fade-up delay-3">{profile.name}</h1>
          <p class="profile__bio animate-fade-up delay-4">{profile.bio}</p>
        </section>

        <!-- ── Social Links ── -->
        <section class="links">
          {socialLinks.map((link, i) => (
            <div class={`animate-fade-up delay-${i + 5}`}>
              <SocialLinkButton href={link.href} label={link.label} icon={link.icon} />
            </div>
          ))}
        </section>

        <!-- ── Buy Me a Coffee ── -->
        <div class="animate-fade-up delay-9 coffee">
          <SocialLinkButton href="#" label="Buy me a coffee ☕" icon="coffee" variant="accent" />
        </div>

        <!-- ── Spotify Playlists ── -->
        <section class="playlists">
          {spotifyPlaylists.map((src, i) => (
            <div class={`animate-fade-up delay-${i + 10}`}>
              <iframe
                style="border-radius:12px"
                src={src}
                width="100%"
                height="352"
                frameBorder="0"
                allowfullscreen
                allow="autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture"
                loading="lazy"
              ></iframe>
            </div>
          ))}
        </section>

        <!-- ── Footer ── -->
        <footer class="footer animate-fade-up delay-12">
          <p>&copy; {new Date().getFullYear()} {profile.name}</p>
        </footer>
      </div>

    </div>
  </main>
</BaseLayout>

<style>
  /* ── Page ── */
  .page {
    width: 100%;
    min-height: 100dvh;
    display: flex;
    justify-content: center;
    padding: 32px 16px;
    position: relative;
    z-index: 1;
  }

  /* ── Card ── */
  .card {
    width: 100%;
    max-width: 640px;
    background: #23262a;
    border-radius: 24px;
    overflow: hidden;
    box-shadow: 0 12px 48px rgba(0, 0, 0, 0.45);
    display: flex;
    flex-direction: column;
    align-items: center;
    align-self: flex-start;
  }

  /* ── Banner ── */
  .banner {
    width: 100%;
    aspect-ratio: 16 / 9;
    max-height: 280px;
    position: relative;
    overflow: hidden;
    flex-shrink: 0;
  }

  .banner__img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }

  .banner__fade {
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 60%;
    background: linear-gradient(to top, #23262a 0%, transparent 100%);
    pointer-events: none;
  }

  /* ── Content Wrapper ── */
  .content-wrapper {
    width: 100%;
    padding: 0 32px 40px 32px;
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  /* ── Profile ── */
  .profile {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-align: center;
    margin-top: -64px;
    margin-bottom: 32px;
    width: 100%;
    position: relative;
    z-index: 2;
  }

  .profile__avatar {
    width: 110px;
    height: 110px;
    border-radius: 50%;
    overflow: hidden;
    border: 6px solid #23262a;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.4);
    flex-shrink: 0;
    margin-bottom: 16px;
  }

  .profile__avatar img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }

  .profile__name {
    font-size: 1.5rem;
    font-weight: 700;
    color: #f5f5f5;
    margin: 0 0 8px 0;
  }

  .profile__bio {
    font-size: 0.9rem;
    color: #9ca3af;
    margin: 0;
    max-width: 400px;
    line-height: 1.5;
  }

  /* ── Links ── */
  .links {
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 12px;
    margin-bottom: 16px;
  }

  /* ── Coffee ── */
  .coffee {
    width: 100%;
    margin-bottom: 32px;
  }

  /* ── Playlists ── */
  .playlists {
    width: 100%;
    display: flex;
    flex-direction: column;
    gap: 16px;
    margin-bottom: 8px;
  }

  .playlists iframe {
    display: block;
    width: 100%;
    border-radius: 12px;
  }

  /* ── Footer ── */
  .footer {
    width: 100%;
    text-align: center;
    margin-top: 24px;
  }

  .footer p {
    font-size: 0.7rem;
    color: #6b7280;
    text-transform: uppercase;
    letter-spacing: 0.06em;
    margin: 0;
  }

  /* ── Responsive ── */
  @media (max-width: 600px) {
    .page {
      padding: 16px 10px;
    }

    .card {
      border-radius: 20px;
    }

    .content-wrapper {
      padding: 0 20px 32px 20px;
    }

    .profile__avatar {
      width: 96px;
      height: 96px;
      margin-top: 0;
    }

    .profile {
      margin-top: -56px;
    }
  }

  @media (max-width: 400px) {
    .page {
      padding: 8px;
    }
    
    .content-wrapper {
      padding: 0 16px 24px 16px;
    }

    .profile__avatar {
      width: 90px;
      height: 90px;
      border-width: 5px;
    }

    .profile {
      margin-top: -50px;
    }
  }
</style>
